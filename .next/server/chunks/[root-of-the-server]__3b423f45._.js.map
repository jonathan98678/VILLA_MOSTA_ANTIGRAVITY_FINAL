{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Desktop/Antigravity_inspo_website/villa-booking-site/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\n// Server-side client with service role key (for admin operations)\r\nexport const createServerClient = () => {\r\n    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;\r\n    return createClient(supabaseUrl, supabaseServiceKey);\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,wBAAwB;AACxD,MAAM,kBAAkB,QAAQ,GAAG,CAAC,6BAA6B;AAE1D,MAAM,WAAW,IAAA,oQAAY,EAAC,aAAa;AAG3C,MAAM,qBAAqB;IAC9B,MAAM,qBAAqB,QAAQ,GAAG,CAAC,yBAAyB;IAChE,OAAO,IAAA,oQAAY,EAAC,aAAa;AACrC","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Desktop/Antigravity_inspo_website/villa-booking-site/src/lib/db.ts"],"sourcesContent":["import { supabase, createServerClient } from \"./supabase\";\r\n\r\n// ============================================\r\n// TYPES\r\n// ============================================\r\n\r\nexport interface Room {\r\n    id: string;\r\n    slug: string;\r\n    name: string;\r\n    short_description: string;\r\n    long_description: string[];\r\n    base_price: number;\r\n    max_guests: number;\r\n    size: string;\r\n    features: string[];\r\n    images: string[];\r\n    is_active: boolean;\r\n    display_order: number;\r\n}\r\n\r\nexport interface Review {\r\n    id: string;\r\n    guest_name: string;\r\n    guest_country: string;\r\n    source: string;\r\n    rating: number;\r\n    review_text: string;\r\n    stay_type: string;\r\n    review_date: string;\r\n    is_featured: boolean;\r\n    is_published: boolean;\r\n}\r\n\r\nexport interface SiteSetting {\r\n    id: string;\r\n    setting_key: string;\r\n    setting_value: string;\r\n    setting_type: string;\r\n    description: string;\r\n}\r\n\r\nexport interface SiteContent {\r\n    id: string;\r\n    page: string;\r\n    section: string;\r\n    content_key: string;\r\n    content_value: string;\r\n    content_type: string;\r\n    display_order: number;\r\n}\r\n\r\n// ============================================\r\n// SETTINGS\r\n// ============================================\r\n\r\nexport async function getSettings(): Promise<Record<string, string>> {\r\n    const { data, error } = await supabase\r\n        .from(\"site_settings\")\r\n        .select(\"setting_key, setting_value\");\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching settings:\", error);\r\n        return {};\r\n    }\r\n\r\n    const settings: Record<string, string> = {};\r\n    data?.forEach((item) => {\r\n        settings[item.setting_key] = item.setting_value || \"\";\r\n    });\r\n    return settings;\r\n}\r\n\r\nexport async function updateSetting(key: string, value: string): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n    const { error } = await serverClient\r\n        .from(\"site_settings\")\r\n        .update({ setting_value: value })\r\n        .eq(\"setting_key\", key);\r\n\r\n    if (error) {\r\n        console.error(\"Error updating setting:\", error);\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport async function updateSettings(settings: Record<string, string>): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n\r\n    const updates = Object.entries(settings).map(([key, value]) => ({\r\n        setting_key: key,\r\n        setting_value: value,\r\n    }));\r\n\r\n    for (const update of updates) {\r\n        const { error } = await serverClient\r\n            .from(\"site_settings\")\r\n            .upsert(update, { onConflict: \"setting_key\" });\r\n\r\n        if (error) {\r\n            console.error(\"Error updating settings:\", error);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n// ============================================\r\n// ROOMS\r\n// ============================================\r\n\r\nexport async function getRooms(): Promise<Room[]> {\r\n    const { data, error } = await supabase\r\n        .from(\"rooms\")\r\n        .select(\"*\")\r\n        .order(\"display_order\", { ascending: true });\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching rooms:\", error);\r\n        return [];\r\n    }\r\n    return data || [];\r\n}\r\n\r\nexport async function getActiveRooms(): Promise<Room[]> {\r\n    const { data, error } = await supabase\r\n        .from(\"rooms\")\r\n        .select(\"*\")\r\n        .eq(\"is_active\", true)\r\n        .order(\"display_order\", { ascending: true });\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching active rooms:\", error);\r\n        return [];\r\n    }\r\n    return data || [];\r\n}\r\n\r\nexport async function getRoomBySlug(slug: string): Promise<Room | null> {\r\n    const { data, error } = await supabase\r\n        .from(\"rooms\")\r\n        .select(\"*\")\r\n        .eq(\"slug\", slug)\r\n        .single();\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching room:\", error);\r\n        return null;\r\n    }\r\n    return data;\r\n}\r\n\r\nexport async function updateRoom(id: string, updates: Partial<Room>): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n    const { error } = await serverClient\r\n        .from(\"rooms\")\r\n        .update(updates)\r\n        .eq(\"id\", id);\r\n\r\n    if (error) {\r\n        console.error(\"Error updating room:\", error);\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport async function deleteRoom(id: string): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n    const { error } = await serverClient\r\n        .from(\"rooms\")\r\n        .delete()\r\n        .eq(\"id\", id);\r\n\r\n    if (error) {\r\n        console.error(\"Error deleting room:\", error);\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n// ============================================\r\n// REVIEWS\r\n// ============================================\r\n\r\nexport async function getReviews(): Promise<Review[]> {\r\n    const { data, error } = await supabase\r\n        .from(\"reviews\")\r\n        .select(\"*\")\r\n        .order(\"review_date\", { ascending: false });\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching reviews:\", error);\r\n        return [];\r\n    }\r\n    return data || [];\r\n}\r\n\r\nexport async function getPublishedReviews(): Promise<Review[]> {\r\n    const { data, error } = await supabase\r\n        .from(\"reviews\")\r\n        .select(\"*\")\r\n        .eq(\"is_published\", true)\r\n        .order(\"review_date\", { ascending: false });\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching published reviews:\", error);\r\n        return [];\r\n    }\r\n    return data || [];\r\n}\r\n\r\nexport async function getFeaturedReviews(): Promise<Review[]> {\r\n    const { data, error } = await supabase\r\n        .from(\"reviews\")\r\n        .select(\"*\")\r\n        .eq(\"is_published\", true)\r\n        .eq(\"is_featured\", true)\r\n        .order(\"review_date\", { ascending: false })\r\n        .limit(6);\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching featured reviews:\", error);\r\n        return [];\r\n    }\r\n    return data || [];\r\n}\r\n\r\nexport async function addReview(review: Omit<Review, \"id\">): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n    const { error } = await serverClient\r\n        .from(\"reviews\")\r\n        .insert(review);\r\n\r\n    if (error) {\r\n        console.error(\"Error adding review:\", error);\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport async function deleteReview(id: string): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n    const { error } = await serverClient\r\n        .from(\"reviews\")\r\n        .delete()\r\n        .eq(\"id\", id);\r\n\r\n    if (error) {\r\n        console.error(\"Error deleting review:\", error);\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n// ============================================\r\n// SITE CONTENT\r\n// ============================================\r\n\r\nexport async function getSiteContent(page: string): Promise<Record<string, Record<string, string>>> {\r\n    const { data, error } = await supabase\r\n        .from(\"site_content\")\r\n        .select(\"*\")\r\n        .eq(\"page\", page)\r\n        .eq(\"is_active\", true)\r\n        .order(\"display_order\", { ascending: true });\r\n\r\n    if (error) {\r\n        console.error(\"Error fetching site content:\", error);\r\n        return {};\r\n    }\r\n\r\n    const content: Record<string, Record<string, string>> = {};\r\n    data?.forEach((item) => {\r\n        if (!content[item.section]) {\r\n            content[item.section] = {};\r\n        }\r\n        content[item.section][item.content_key] = item.content_value || \"\";\r\n    });\r\n    return content;\r\n}\r\n\r\nexport async function updateSiteContent(\r\n    page: string,\r\n    section: string,\r\n    key: string,\r\n    value: string\r\n): Promise<boolean> {\r\n    const serverClient = createServerClient();\r\n    const { error } = await serverClient\r\n        .from(\"site_content\")\r\n        .upsert(\r\n            {\r\n                page,\r\n                section,\r\n                content_key: key,\r\n                content_value: value,\r\n            },\r\n            { onConflict: \"page,section,content_key\" }\r\n        );\r\n\r\n    if (error) {\r\n        console.error(\"Error updating site content:\", error);\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Desktop/Antigravity_inspo_website/villa-booking-site/src/app/api/admin/rooms/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { getRooms, updateRoom, deleteRoom } from \"@/lib/db\";\r\n\r\nexport async function GET() {\r\n    try {\r\n        const rooms = await getRooms();\r\n        return NextResponse.json(rooms);\r\n    } catch (error) {\r\n        console.error(\"Error fetching rooms:\", error);\r\n        return NextResponse.json({ error: \"Failed to fetch rooms\" }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function PUT(request: Request) {\r\n    try {\r\n        const { id, ...updates } = await request.json();\r\n        const success = await updateRoom(id, updates);\r\n\r\n        if (success) {\r\n            return NextResponse.json({ message: \"Room updated successfully\" });\r\n        } else {\r\n            return NextResponse.json({ error: \"Failed to update room\" }, { status: 500 });\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error updating room:\", error);\r\n        return NextResponse.json({ error: \"Failed to update room\" }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function DELETE(request: Request) {\r\n    try {\r\n        const { id } = await request.json();\r\n        const success = await deleteRoom(id);\r\n\r\n        if (success) {\r\n            return NextResponse.json({ message: \"Room deleted successfully\" });\r\n        } else {\r\n            return NextResponse.json({ error: \"Failed to delete room\" }, { status: 500 });\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error deleting room:\", error);\r\n        return NextResponse.json({ error: \"Failed to delete room\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,QAAQ,MAAM,IAAA,kMAAQ;QAC5B,OAAO,oNAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,oNAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ;AAEO,eAAe,IAAI,OAAgB;IACtC,IAAI;QACA,MAAM,EAAE,EAAE,EAAE,GAAG,SAAS,GAAG,MAAM,QAAQ,IAAI;QAC7C,MAAM,UAAU,MAAM,IAAA,oMAAU,EAAC,IAAI;QAErC,IAAI,SAAS;YACT,OAAO,oNAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAA4B;QACpE,OAAO;YACH,OAAO,oNAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC/E;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,oNAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ;AAEO,eAAe,OAAO,OAAgB;IACzC,IAAI;QACA,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,QAAQ,IAAI;QACjC,MAAM,UAAU,MAAM,IAAA,oMAAU,EAAC;QAEjC,IAAI,SAAS;YACT,OAAO,oNAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAA4B;QACpE,OAAO;YACH,OAAO,oNAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC/E;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,oNAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ","debugId":null}}]
}